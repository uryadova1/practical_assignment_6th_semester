1)  $b = const$ из поставленной задачи Коши с периодическими начальными данными и  $b = b(x)$ - это разные величины. В текущей задаче $b(x)$ еще не определена у Вас, поскольку она входит в систему дифференциальных уравнений мелкой воды (там немного будет изменена модель). На данном этапе Вам нужно просто реализовать разностную схему Русанова (и потом еще схему CABARET) для системы уравнений однослойной мелкой воды в одномерном случае. 
2) На семинарах мы выполняли следующую процедуру (Дополнительно что можно почитать перешлю) : 
	Для линейного уравнения переноса с постоянными коэффициентами вида:
	$$
	\frac{\partial u}{ \partial t} + a \frac{\partial u}{ \partial x} = 0 \qquad \qquad (1)
	$$
	где $u$ - искомая величина;  $-$  строили конечно разностную схему (на примере уголка, Лакса и тд.). Линейное уравнение переноса $-$ это гиперболическое уравнение первого порядка. Когда мы строили некоторую конечно-разностную схему для такого уравнения (1), то по ходу у нас возникал следующий параметр:
	$$
	r = CFL = a \frac{\Delta t}{\Delta x} \qquad \qquad (2)
	$$
	где $\Delta x$ - шаг по времени, $\Delta t$ - шаг по пространству. 
	### Дальше идет теория из курса Уравнения математической физики (или урматы), но эта теория имеет ключевое значение здесь.
	Для уравнения (1) это был естественный переход. Теперь же у нас уравнение стало нелинейным:
	$$
	\frac{\partial u}{ \partial t} + \frac{\partial f(u)}{ \partial x} = 0 \qquad \qquad (3)
	$$
	Мы видим, что в нем уже отсутствует параметр $a$, а по $x$ дифференцируем произвольную функцию $f(u)$. Чтобы получить $a$, нужно продифференцировать $f(u)$ как сложную функцию:
	$$ 
	\frac{\partial f(u)}{\partial x} = \frac{d f(u)}{d u} \cdot \frac{\partial u}{\partial x} \qquad \qquad (4);
	$$
	В общем случае: $\quad \frac{d f(u)}{d u} = a(x,t,u)$ не является константой, а значит зависят от выбранной сетки и знаний искомой величины в узлах  сетки:
	$$
	a_j^n = a(x_j, t^n, u_j^n) \qquad \qquad (5)
	$$
	Выбранный в формуле (5) не является единственным и, вообще говоря, сильно зависит от используемых методов решения, постановки задачи, вида исходной $f(u)$ и тд. 
	В системе гиперболических уравнений формула (4) будет такой же, только в ней вместо $u$ и $f(u)$ будут вектор-функции $U$ и  $F(U)$.  Для системы уравнений мелкой воды:
	$$
	\frac{\partial U}{ \partial t} + \frac{\partial F(U)}{ \partial x} = 0 \qquad \qquad (6)
	$$
	где:
	$$
	U = (h, \ q)^T; \qquad F(U)= (q, \ qu + gh^2/2)^T.
	$$
	Для упрощения запишем  $U$ и  $F(U)$ в следующем виде: 
	$$
	U = (u, \ v)^T; \qquad F(U)= (f(u,v), \ g(u,v))^T. \qquad (7)
	$$
	Соответственно, вид формулы (5) после преобразований (4) для системы (6), (7) будет такой:
	$$
	\begin{pmatrix}   
		\frac{\partial f(u, \ v)}{\partial x}\\   
		\frac{\partial g(u, \ v)}{\partial x}   
	\end{pmatrix} = 
	\begin{pmatrix}
		\frac{\partial f}{\partial u} & \frac{\partial f}{\partial v}\\   
		\frac{\partial g}{\partial u} & \frac{\partial g}{\partial v}
	\end{pmatrix} \cdot 
	\begin{pmatrix}   
		\frac{\partial u}{\partial x}\\   
		\frac{\partial v}{\partial x}   
	\end{pmatrix} \qquad (8)
	$$
	где 
	$$
	\begin{pmatrix}
		\frac{\partial f}{\partial u} & \frac{\partial f}{\partial v}\\   
		\frac{\partial g}{\partial u} & \frac{\partial g}{\partial v}
	\end{pmatrix} = A \qquad (9)
	$$
	Таким образом, для системы вместо (5) будет матрица (9). Далее, из курса линейной алгебры Вы искали собственные значения и собственные векторы матриц. 
	Для (9) находите собственные значения, и соответствующие левые и правые собственные векторы (это можете проделать в качестве упражнения для этой системы и обязательно для мелкой воды, нам это дальше понадобится).
	Таким образом, Вы выполняете переход: 
	$A = R \Lambda L$,  где $L$ - матрица левых собственных векторов, $R$ - матрица правых собственных векторов,  $\Lambda$ - матрица собственных значений. Вы систему (6) слева умножаете на $L$  слева. 
	$$
	L \frac{\partial U}{ \partial t} + L \frac{\partial F(U)}{ \partial x} = L \frac{\partial U}{ \partial t} + L A \frac{\partial U}{ \partial x} = 0 \qquad \qquad (10) $$
	Если система допускает запись в форме инвариантов, то умножив на $L$ , получится следующее:
	$$
	=>  \frac{\partial (L U)}{ \partial t} + \Lambda \frac{\partial (L U)}{ \partial x} = 0 \qquad \qquad (11)
	$$
	Переход (10) -> (11) кажется сложным поначалу. Его нужно просто аккуратно выполнить. В (11)  заменим  $LU = W$ -- вектор инвариантов системы (6). 
	
	### Теория закончилась
	Теперь возвращаемся к числу Куранта. Формулу, которую привели Вы - на самом деле верна не только для схемы Русанова, но и для большого количества других разностных схем и численных методов. В ней в знаменателе указано абсолютное значение собственных значений $\Lambda$. Только если используете $g$, то ее необходимо включить в формулу в под корень: $\sqrt{gh}$ . В остальном все правильно, используете ее для нахождения шага по времени на каждом моменте времени. А $CFL = z$ - здесь называется коэффициентом запаса. Для схемы Русанова принимаете его $z=0.5$. 

3) нет. у Вас же уже определен вектор $u_{j-1/2}^{(1)}$. Просто сдвиньте формулу 1) с картинки. Но двойную работу делать не нужно поскольку в каждом узле $k=j-1/2$ будет только одно значение $u$. В литературе если начнете искать, то можете уйти вообще не в ту степь, которая называется "Методы конечных объемов" или "Проекционно-сеточные методы". Нам пока они не нужны.
4) $R = \frac{\Delta t}{\Delta x}$ . По сути $R = \frac{CFL}{max \lambda}$.
	